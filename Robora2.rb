# Функція для визначення пріоритету оператора
def пріоритет(оператор)
 case оператор
 when '+', '-' then 1
 when '*', '/' then 2
 else 0
 end
end
# Функція для перетворення інфіксного виразу у зворотну польську нотацію (RPN)
def до_rpn(вираз)
 вихід = []
 оператори = []

 вираз.scan(/\d+|\+|\-|\*|\//).each do |символ|
 if символ =~ /\d+/ # Якщо символ – це число
 вихід << символ
 elsif ['+', '-', '*', '/'].include?(символ) # Якщо символ – це оператор
 while оператори.any? && пріоритет(оператори.last) >= пріоритет(символ)
 вихід << оператори.pop
 end
 оператори << символ
 end
 end

 # Виводимо всі залишкові оператори
 вихід.concat(оператори.reverse)
 вихід.join(' ')
end
# Приклад
вираз = "2 + 1 * 4"
puts "Інфіксний вираз: #{вираз}"
puts "RPN вираз: #{до_rpn(вираз)}"